jQuery(document).ready(function(){$("html").show();$("textarea.TextBox").livequery(function(){$(this).autosize()});$.fn.autosave=function(a){return};$(".back-to-top").click(function(){$("html, body").animate({scrollTop:0},250);return false});$(".CommentForm .Buttons").each(function(){var b=$(this).find(".MarkupHelp");var a=b.outerHTML();var c=$(this).find(".Back");b.remove();c.after(a)});$(".ItemDiscussion").each(function(){var a=$(this).find("a.Title");var b=a.html();var c=$(this).find(".Excerpt").remove().text()});$("a[rel=popover]").popover();$("a[rel=tooltip]").tooltip();$(".Category select").each(function(){$(this).find("option").each(function(){var a=$.trim($(this).text());$(this).contents().replaceWith(a.replace(/(\u00a0)/g," "))});$(this).find("option[disabled]").each(function(){var b=$(this).text();var a=$(this).nextUntil("option[disabled]");var c=$("<option />").append($(a)).html();$(this).replaceWith($('<optgroup label="'+b+'">'+c+"</optgroup>"))});$(this).chosen()});$("body").removeClass("thumbnail");$(".Tag-Closed").html('<i class="icon-lock icon-white"></i> ');$(".Button").toggleClass("Button btn");$(".NavButton").toggleClass("NavButton btn");$("a.Cancel, .Danger").addClass("btn btn-danger");$(".Primary.btn, .DiscussionButton, .NewDiscussion").addClass("btn-primary");$(".ButtonGroup.Big .btn").addClass("btn-large");$(".CheckBoxLabel").toggleClass("CheckBoxLabel checkbox");$(".RadioLabel").toggleClass("RadioLabel radio");$(".Tag").addClass("label");$(".Tag-Closed").addClass("label-important");$(".Tag-Announcement").addClass("label-info");$(".Alert").addClass("badge badge-important");$(".HasNew").addClass("badge badge-warning");$(".AlertMessage, .InfoMessage").addClass("alert");$(".CasualMessage").addClass("alert alert-info");$(".Count").addClass("badge badge-info");$(".WarningMessage").addClass("alert alert-danger");$(".NumberedPager").each(function(){$(this).addClass("btn-group");$(this).find("a, span").addClass("btn btn-small");$(this).find(".Highlight").addClass("active")});$(".MenuItems").toggleClass("MenuItems dropdown-menu");$(".FlyoutMenu").addClass("dropdown-menu");$(".navbar form").each(function(){$(this).addClass("navbar-search pull-left");$(this).find("input").addClass("search-query span2").attr("placeholder","Search...");$(this).find('input[type="submit"]').remove()});$(".FilterMenu, .PanelInfo").each(function(){$(this).toggleClass("nav nav-list");$(this).find(".Active").toggleClass("Active active")});$(".PanelInfo li:not(.Heading)").each(function(){var c=$(this).contents().filter(function(){return this.nodeType==Node.TEXT_NODE}).text();var c='<span class="Aside">'+$.trim(c)+"</span>";var b=$(this).find("img").outerHTML();var a=$(this).find("a:not(.PhotoWrap)").outerHTML();$(this).empty().append(a).find("a").append(b+c);$(this).find(".Aside:empty, .badge:empty").remove()});$(".PanelInfo li.Heading").each(function(){$(this).toggleClass("Heading nav-header")});$(".ButtonGroup").each(function(){$(this).addClass("btn-group");$(this).find(".btn").addClass("btn-primary");$(this).find(".Handle").each(function(){$(this).addClass("dropdown-toggle").append('<span class="caret"></span>')})});$(document).delegate(".ButtonGroup > .Handle","click",function(){var a=$(this).parents(".ButtonGroup");if(a.hasClass("open")){$(".ButtonGroup").removeClass("open")}else{$(".ButtonGroup").removeClass("open");a.addClass("open")}return false});$(".Entry").each(function(){$(this).find("#panel").remove();$(this).find("#content").toggleClass("span9 span6 offset3")});$("body.Conversations.add #panel, body.Vanilla.Post #panel").remove();$("body.Conversations.add #content, body.Vanilla.Post #content").toggleClass("span9 span10 offset1");$("img:not(#cropbox):not(#preview)").each(function(){$(this).attr("data-original",$(this).attr("src"));$(this).attr("src","http://www.placehold.it/1x1")});$("img").lazyload({effect:"fadeIn"});$(".Note.Closed").livequery(function(){$(this).prepend('<i class="icon-lock"></i> ')});$(".Button").livequery(function(){$(this).toggleClass("Button btn")});$("a.Cancel").livequery(function(){$(this).addClass("btn btn-danger")});$(".Cancel").find("a").livequery(function(){$(this).addClass("btn btn-danger")});$(".ForgotPassword").livequery(function(){$(this).addClass("btn btn-danger")});$(".Primary.btn, .DiscussionButton").livequery(function(){$(this).addClass("btn-primary")});$(".CheckBoxLabel").livequery(function(){$(this).toggleClass("CheckBoxLabel checkbox")});$(".RadioLabel").livequery(function(){$(this).toggleClass("RadioLabel radio")});$(".MorePager").livequery(function(){$(this).find("a").addClass("btn btn-small btn-block")});$(".MenuItems").livequery(function(){$(this).toggleClass("MenuItems dropdown-menu")});$(".FlyoutMenu").livequery(function(){$(this).addClass("dropdown-menu")});$(".ac_results").livequery(function(){$(this).find("ul").addClass("typeahead dropdown-menu")});$(".dropdown-menu ul li hr").livequery(function(){$(this).parent().addClass("divider");$(this).remove()});$(".Popup").livequery(function(){$(this).find(".Body").addClass("modal")});$(".Popup .Content").livequery(function(){$(this).children("h1, h2").addClass("modal-header");$(this).children("*:not(.modal-header):not(.Entry)").addClass("modal-body")});$(".Popup .Content h1, .Popup .Content h2").livequery(function(){$(this).addClass("modal-header")});$(".Popup .Content").find("> *:not(.modal-header):not(.Entry)").livequery(function(){$(this).addClass("modal-body")});$(".Popup .Footer").livequery(function(){$(this).find("span").addClass("close")});$(".Overlay").livequery(function(){$(this).fadeIn(150)});$(".ButtonGroup").livequery(function(){$(this).find(".Dropdown").addClass("dropdown-menu")});$(".DataBox-Comments .QnA-Item-Accepted").remove();$(".QnA-Tag-Answered, .QnA-Tag-Accepted").addClass("label-success")});var RecaptchaOptions={theme:"clean"};jQuery.fn.outerHTML=function(a){return a?this.before(a).remove():jQuery("<p>").append(this.eq(0).clone()).html()};var RecaptchaOptions={theme:"clean"};jQuery.fn.outerHTML=function(a){return a?this.before(a).remove():jQuery("<p>").append(this.eq(0).clone()).html()};(function(a){a.fn.clickOutside=function(d){var c=1,b=$(this);b.cb=d;this.click(function(){c=0});$(document).click(function(){c&&b.cb();c=1});return $(this)}})(jQuery);!function(a){a(function(){a.support.transition=(function(){var b=(function(){var e=document.createElement("bootstrap"),d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},c;for(c in d){if(e.style[c]!==undefined){return d[c]}}}());return b&&{end:b}})()})}(window.jQuery);!function(d){var c='[data-dismiss="alert"]',b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(j){var i=d(this),g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}h=d(g);j&&j.preventDefault();h.length||(h=i.hasClass("alert")?i:i.parent());h.trigger(j=d.Event("close"));if(j.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed").remove()}d.support.transition&&h.hasClass("fade")?h.on(d.support.transition.end,f):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this),f=g.data("alert");if(!f){g.data("alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.alert.data-api",c,b.prototype.close)}(window.jQuery);!function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},c.fn.button.defaults,d)};b.prototype.setState=function(g){var i="disabled",e=this.$element,f=e.data(),h=e.is("input")?"val":"html";g=g+"Text";f.resetText||e.data("resetText",e[h]());e[h](f[g]||this.options[g]);setTimeout(function(){g=="loadingText"?e.addClass(i).attr(i,i):e.removeClass(i).removeAttr(i)},0)};b.prototype.toggle=function(){var d=this.$element.closest('[data-toggle="buttons-radio"]');d&&d.find(".active").removeClass("active");this.$element.toggleClass("active")};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this),f=g.data("button"),e=typeof d=="object"&&d;if(!f){g.data("button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.defaults={loadingText:"loading..."};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle")})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.prototype={cycle:function(d){if(!d){this.paused=false}if(this.interval){clearInterval(this.interval)}this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this},getActiveIndex:function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)},to:function(f){var d=this.getActiveIndex(),e=this;if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))},pause:function(d){if(!d){this.paused=true}if(this.$element.find(".next, .prev").length&&b.support.transition.end){this.$element.trigger(b.support.transition.end);this.cycle(true)}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(k,f){var m=this.$element.find(".item.active"),d=f||m[k](),j=this.interval,l=k=="next"?"left":"right",g=k=="next"?"first":"last",h=this,i;this.sliding=true;j&&this.pause();d=d.length?d:this.$element.find(".item")[g]();i=b.Event("slide",{relatedTarget:d[0],direction:l});if(d.hasClass("active")){return}if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(i);if(i.isDefaultPrevented()){return}d.addClass(k);d[0].offsetWidth;m.addClass(l);d.addClass(l);this.$element.one(b.support.transition.end,function(){d.removeClass([k,l].join(" ")).addClass("active");m.removeClass(["active",l].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid")},0)})}else{this.$element.trigger(i);if(i.isDefaultPrevented()){return}m.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid")}j&&this.cycle();return this}};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this),g=h.data("carousel"),e=b.extend({},b.fn.carousel.defaults,typeof d=="object"&&d),f=typeof d=="string"?d:e.slide;if(!g){h.data("carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.defaults={interval:5000,pause:"hover"};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(j){var i=b(this),f,d=b(i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"")),g=b.extend({},d.data(),i.data()),h;d.carousel(g);if(h=i.attr("data-slide-to")){d.data("carousel").pause().to(h).cycle()}j.preventDefault()})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.collapse.defaults,d);if(this.options.parent){this.$parent=b(this.options.parent)}this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var d=this.$element.hasClass("width");return d?"width":"height"},show:function(){var g,d,f,e;if(this.transitioning||this.$element.hasClass("in")){return}g=this.dimension();d=b.camelCase(["scroll",g].join("-"));f=this.$parent&&this.$parent.find("> .accordion-group > .in");if(f&&f.length){e=f.data("collapse");if(e&&e.transitioning){return}f.collapse("hide");e||f.data("collapse",null)}this.$element[g](0);this.transition("addClass",b.Event("show"),"shown");b.support.transition&&this.$element[g](this.$element[0][d])},hide:function(){var d;if(this.transitioning||!this.$element.hasClass("in")){return}d=this.dimension();this.reset(this.$element[d]());this.transition("removeClass",b.Event("hide"),"hidden");this.$element[d](0)},reset:function(d){var e=this.dimension();this.$element.removeClass("collapse")[e](d||"auto")[0].offsetWidth;this.$element[d!==null?"addClass":"removeClass"]("collapse");return this},transition:function(h,e,f){var g=this,d=function(){if(e.type=="show"){g.reset()}g.transitioning=0;g.$element.trigger(f)};this.$element.trigger(e);if(e.isDefaultPrevented()){return}this.transitioning=1;this.$element[h]("in");b.support.transition&&this.$element.hasClass("collapse")?this.$element.one(b.support.transition.end,d):d()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this),f=g.data("collapse"),e=b.extend({},b.fn.collapse.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.defaults={toggle:true};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.collapse.data-api","[data-toggle=collapse]",function(i){var h=b(this),d,g=h.attr("data-target")||i.preventDefault()||(d=h.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""),f=b(g).data("collapse")?"toggle":h.data();h[b(g).hasClass("in")?"addClass":"removeClass"]("collapsed");b(g).collapse(f)})}(window.jQuery);!function(f){var b="[data-toggle=dropdown]",a=function(h){var g=f(h).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){g.parent().removeClass("open")})};a.prototype={constructor:a,toggle:function(j){var i=f(this),h,g;if(i.is(".disabled, :disabled")){return}h=e(i);g=h.hasClass("open");d();if(!g){if("ontouchstart" in document.documentElement){f('<div class="dropdown-backdrop"/>').insertBefore(f(this)).on("click",d)}h.toggleClass("open")}i.focus();return false},keydown:function(l){var k,m,g,j,i,h;if(!/(38|40|27)/.test(l.keyCode)){return}k=f(this);l.preventDefault();l.stopPropagation();if(k.is(".disabled, :disabled")){return}j=e(k);i=j.hasClass("open");if(!i||(i&&l.keyCode==27)){if(l.which==27){j.find(b).focus()}return k.click()}m=f("[role=menu] li:not(.divider):visible a",j);if(!m.length){return}h=m.index(m.filter(":focus"));if(l.keyCode==38&&h>0){h--}if(l.keyCode==40&&h<m.length-1){h++}if(!~h){h=0}m.eq(h).focus()}};function d(){f(".dropdown-backdrop").remove();f(b).each(function(){e(f(this)).removeClass("open")})}function e(i){var g=i.attr("data-target"),h;if(!g){g=i.attr("href");g=g&&/#/.test(g)&&g.replace(/.*(?=#[^\s]*$)/,"")}h=g&&f(g);if(!h||!h.length){h=i.parent()}return h}var c=f.fn.dropdown;f.fn.dropdown=function(g){return this.each(function(){var i=f(this),h=i.data("dropdown");if(!h){i.data("dropdown",(h=new a(this)))}if(typeof g=="string"){h[g].call(i)}})};f.fn.dropdown.Constructor=a;f.fn.dropdown.noConflict=function(){f.fn.dropdown=c;return this};f(document).on("click.dropdown.data-api",d).on("click.dropdown.data-api",".dropdown form",function(g){g.stopPropagation()}).on("click.dropdown.data-api",b,a.prototype.toggle).on("keydown.dropdown.data-api",b+", [role=menu]",a.prototype.keydown)}(window.jQuery);!function(c){var b=function(e,d){this.options=d;this.$element=c(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",c.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};b.prototype={constructor:b,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var d=this,f=c.Event("show");this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var e=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show();if(e){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();e?d.$element.one(c.support.transition.end,function(){d.$element.focus().trigger("shown")}):d.$element.focus().trigger("shown")})},hide:function(f){f&&f.preventDefault();var d=this;f=c.Event("hide");this.$element.trigger(f);if(!this.isShown||f.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);c.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var d=this;c(document).on("focusin.modal",function(f){if(d.$element[0]!==f.target&&!d.$element.has(f.target).length){d.$element.focus()}})},escape:function(){var d=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(f){f.which==27&&d.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var d=this,e=setTimeout(function(){d.$element.off(c.support.transition.end);d.hideModal()},500);this.$element.one(c.support.transition.end,function(){clearTimeout(e);d.hideModal()})},hideModal:function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null},backdrop:function(g){var f=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?c.proxy(this.$element[0].focus,this.$element[0]):c.proxy(this.hide,this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!g){return}d?this.$backdrop.one(c.support.transition.end,g):g()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,g):g()}else{if(g){g()}}}}};var a=c.fn.modal;c.fn.modal=function(d){return this.each(function(){var g=c(this),f=g.data("modal"),e=c.extend({},c.fn.modal.defaults,g.data(),typeof d=="object"&&d);if(!f){g.data("modal",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}else{if(e.show){f.show()}}})};c.fn.modal.defaults={backdrop:true,keyboard:true,show:true};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.modal.data-api",'[data-toggle="modal"]',function(i){var h=c(this),f=h.attr("href"),d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,""))),g=d.data("modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());i.preventDefault();d.modal(g).one("hide",function(){h.focus()})})}(window.jQuery);!function(c){var b=function(e,d){this.init("tooltip",e,d)};b.prototype={constructor:b,init:function(k,h,f){var l,d,j,e,g;this.type=k;this.$element=c(h);this.options=this.getOptions(f);this.enabled=true;j=this.options.trigger.split(" ");for(g=j.length;g--;){e=j[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){l=e=="hover"?"mouseenter":"focus";d=e=="hover"?"mouseleave":"blur";this.$element.on(l+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(d){d=c.extend({},c.fn[this.type].defaults,this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d},enter:function(h){var g=c.fn[this.type].defaults,f={},d;this._options&&c.each(this._options,function(e,i){if(g[e]!=i){f[e]=i}},this);d=c(h.currentTarget)[this.type](f).data(this.type);if(!d.options.delay||!d.options.delay.show){return d.show()}clearTimeout(this.timeout);d.hoverState="in";this.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)},leave:function(f){var d=c(f.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.hoverState="out";this.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)},show:function(){var i,k,g,j,d,h,f=c.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(f);if(f.isDefaultPrevented()){return}i=this.tip();this.setContent();if(this.options.animation){i.addClass("fade")}d=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement;i.detach().css({top:0,left:0,display:"block"});this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);k=this.getPosition();g=i[0].offsetWidth;j=i[0].offsetHeight;switch(d){case"bottom":h={top:k.top+k.height,left:k.left+k.width/2-g/2};break;case"top":h={top:k.top-j,left:k.left+k.width/2-g/2};break;case"left":h={top:k.top+k.height/2-j/2,left:k.left-g};break;case"right":h={top:k.top+k.height/2-j/2,left:k.left+k.width};break}this.applyPlacement(h,d);this.$element.trigger("shown")}},applyPlacement:function(g,h){var i=this.tip(),e=i[0].offsetWidth,l=i[0].offsetHeight,d,j,k,f;i.offset(g).addClass(h).addClass("in");d=i[0].offsetWidth;j=i[0].offsetHeight;if(h=="top"&&j!=l){g.top=g.top+l-j;f=true}if(h=="bottom"||h=="top"){k=0;if(g.left<0){k=g.left*-2;g.left=0;i.offset(g);d=i[0].offsetWidth;j=i[0].offsetHeight}this.replaceArrow(k-e+d,d,"left")}else{this.replaceArrow(j-l,j,"top")}if(f){i.offset(g)}},replaceArrow:function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")},setContent:function(){var e=this.tip(),d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")},hide:function(){var d=this,g=this.tip(),f=c.Event("hide");this.$element.trigger(f);if(f.isDefaultPrevented()){return}g.removeClass("in");function h(){var e=setTimeout(function(){g.off(c.support.transition.end).detach()},500);g.one(c.support.transition.end,function(){clearTimeout(e);g.detach()})}c.support.transition&&this.$tip.hasClass("fade")?h():g.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())},getTitle:function(){var f,d=this.$element,e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f},tip:function(){return this.$tip=this.$tip||c(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(f){var d=f?c(f.currentTarget)[this.type](this._options).data(this.type):this;d.tip().hasClass("in")?d.hide():d.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this),f=g.data("tooltip"),e=typeof d=="object"&&d;if(!f){g.data("tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(window.jQuery);!function(c){var b=function(e,d){this.init("popover",e,d)};b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype,{constructor:b,setContent:function(){var f=this.tip(),e=this.getTitle(),d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?"html":"text"](d);f.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,d=this.$element,f=this.options;e=(typeof f.content=="function"?f.content.call(d[0]):f.content)||d.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this),f=g.data("popover"),e=typeof d=="object"&&d;if(!f){g.data("popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.defaults=c.extend({},c.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(window.jQuery);!function(c){function b(g,f){var h=c.proxy(this.process,this),d=c(g).is("body")?c(window):c(g),e;this.options=c.extend({},c.fn.scrollspy.defaults,f);this.$scrollElement=d.on("scroll.scroll-spy.data-api",h);this.selector=(this.options.target||((e=c(g).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.$body=c("body");this.refresh();this.process()}b.prototype={constructor:b,refresh:function(){var d=this,e;this.offsets=c([]);this.targets=c([]);e=this.$body.find(this.selector).map(function(){var g=c(this),f=g.data("target")||g.attr("href"),h=/^#\w/.test(f)&&c(f);return(h&&h.length&&[[h.position().top+(!c.isWindow(d.$scrollElement.get(0))&&d.$scrollElement.scrollTop()),f]])||null}).sort(function(g,f){return g[0]-f[0]}).each(function(){d.offsets.push(this[0]);d.targets.push(this[1])})},process:function(){var j=this.$scrollElement.scrollTop()+this.options.offset,f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,h=f-this.$scrollElement.height(),g=this.offsets,d=this.targets,k=this.activeTarget,e;if(j>=h){return k!=(e=d.last()[0])&&this.activate(e)}for(e=g.length;e--;){k!=d[e]&&j>=g[e]&&(!g[e+1]||j<=g[e+1])&&this.activate(d[e])}},activate:function(f){var e,d;this.activeTarget=f;c(this.selector).parent(".active").removeClass("active");d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';e=c(d).parent("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate")}};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this),f=g.data("scrollspy"),e=typeof d=="object"&&d;if(!f){g.data("scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.defaults={offset:10};c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(window.jQuery);!function(c){var b=function(d){this.element=c(d)};b.prototype={constructor:b,show:function(){var j=this.element,g=j.closest("ul:not(.dropdown-menu)"),f=j.attr("data-target"),h,d,i;if(!f){f=j.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(j.parent("li").hasClass("active")){return}h=g.find(".active:last a")[0];i=c.Event("show",{relatedTarget:h});j.trigger(i);if(i.isDefaultPrevented()){return}d=c(f);this.activate(j.parent("li"),g);this.activate(d,d.parent(),function(){j.trigger({type:"shown",relatedTarget:h})})},activate:function(f,e,i){var d=e.find("> .active"),h=i&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}i&&i()}h?d.one(c.support.transition.end,g):g();d.removeClass("in")}};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this),e=f.data("tab");if(!e){f.data("tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(window.jQuery);!function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},b.fn.typeahead.defaults,d);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.source=this.options.source;this.$menu=b(this.options.menu);this.shown=false;this.listen()};c.prototype={constructor:c,select:function(){var d=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(d)).change();return this.hide()},updater:function(d){return d},show:function(){var d=b.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});this.$menu.insertAfter(this.$element).css({top:d.top+d.height,left:d.left}).show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(e){var d;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}d=b.isFunction(this.source)?this.source(this.query,b.proxy(this.process,this)):this.source;return d?this.process(d):this},process:function(d){var e=this;d=b.grep(d,function(f){return e.matcher(f)});d=this.sorter(d);if(!d.length){return this.shown?this.hide():this}return this.render(d.slice(0,this.options.items)).show()},matcher:function(d){return ~d.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(f){var g=[],e=[],d=[],h;while(h=f.shift()){if(!h.toLowerCase().indexOf(this.query.toLowerCase())){g.push(h)}else{if(~h.indexOf(this.query)){e.push(h)}else{d.push(h)}}}return g.concat(e,d)},highlighter:function(d){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return d.replace(new RegExp("("+e+")","ig"),function(f,g){return"<strong>"+g+"</strong>"})},render:function(d){var e=this;d=b(d).map(function(f,g){f=b(e.options.item).attr("data-value",g);f.find("a").html(e.highlighter(g));return f[0]});d.first().addClass("active");this.$menu.html(d);return this},next:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.next();if(!d.length){d=b(this.$menu.find("li")[0])}d.addClass("active")},prev:function(e){var f=this.$menu.find(".active").removeClass("active"),d=f.prev();if(!d.length){d=this.$menu.find("li").last()}d.addClass("active")},listen:function(){this.$element.on("focus",b.proxy(this.focus,this)).on("blur",b.proxy(this.blur,this)).on("keypress",b.proxy(this.keypress,this)).on("keyup",b.proxy(this.keyup,this));if(this.eventSupported("keydown")){this.$element.on("keydown",b.proxy(this.keydown,this))}this.$menu.on("click",b.proxy(this.click,this)).on("mouseenter","li",b.proxy(this.mouseenter,this)).on("mouseleave","li",b.proxy(this.mouseleave,this))},eventSupported:function(d){var e=d in this.$element;if(!e){this.$element.setAttribute(d,"return;");e=typeof this.$element[d]==="function"}return e},move:function(d){if(!this.shown){return}switch(d.keyCode){case 9:case 13:case 27:d.preventDefault();break;case 38:d.preventDefault();this.prev();break;case 40:d.preventDefault();this.next();break}d.stopPropagation()},keydown:function(d){this.suppressKeyPressRepeat=~b.inArray(d.keyCode,[40,38,9,13,27]);this.move(d)},keypress:function(d){if(this.suppressKeyPressRepeat){return}this.move(d)},keyup:function(d){switch(d.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}d.stopPropagation();d.preventDefault()},focus:function(d){this.focused=true},blur:function(d){this.focused=false;if(!this.mousedover&&this.shown){this.hide()}},click:function(d){d.stopPropagation();d.preventDefault();this.select();this.$element.focus()},mouseenter:function(d){this.mousedover=true;this.$menu.find(".active").removeClass("active");b(d.currentTarget).addClass("active")},mouseleave:function(d){this.mousedover=false;if(!this.focused&&this.shown){this.hide()}}};var a=b.fn.typeahead;b.fn.typeahead=function(d){return this.each(function(){var g=b(this),f=g.data("typeahead"),e=typeof d=="object"&&d;if(!f){g.data("typeahead",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};b.fn.typeahead.Constructor=c;b.fn.typeahead.noConflict=function(){b.fn.typeahead=a;return this};b(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(f){var d=b(this);if(d.data("typeahead")){return}d.typeahead(d.data())})}(window.jQuery);!function(c){var b=function(e,d){this.options=c.extend({},c.fn.affix.defaults,d);this.$window=c(window).on("scroll.affix.data-api",c.proxy(this.checkPosition,this)).on("click.affix.data-api",c.proxy(function(){setTimeout(c.proxy(this.checkPosition,this),1)},this));this.$element=c(e);this.checkPosition()};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var h=c(document).height(),j=this.$window.scrollTop(),d=this.$element.offset(),k=this.options.offset,f=k.bottom,g=k.top,i="affix affix-top affix-bottom",e;if(typeof k!="object"){f=g=k}if(typeof g=="function"){g=k.top()}if(typeof f=="function"){f=k.bottom()}e=this.unpin!=null&&(j+this.unpin<=d.top)?false:f!=null&&(d.top+this.$element.height()>=h-f)?"bottom":g!=null&&j<=g?"top":false;if(this.affixed===e){return}this.affixed=e;this.unpin=e=="bottom"?d.top-j:null;this.$element.removeClass(i).addClass("affix"+(e?"-"+e:""))};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this),f=g.data("affix"),e=typeof d=="object"&&d;if(!f){g.data("affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.defaults={offset:0};c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this),d=e.data();d.offset=d.offset||{};d.offsetBottom&&(d.offset.bottom=d.offsetBottom);d.offsetTop&&(d.offset.top=d.offsetTop);e.affix(d)})})}(window.jQuery);(function(b){var e={className:"autosizejs",append:"",callback:false,resizeDelay:10},f='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',a=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],d,c=b(f).data("autosize",true)[0];c.style.lineHeight="99px";if(b(c).css("lineHeight")==="99px"){a.push("lineHeight")}c.style.lineHeight="";b.fn.autosize=function(g){g=b.extend({},e,g||{});if(c.parentNode!==document.body){b(document.body).append(c)}return this.each(function(){var l=this,k=b(l),q,s,j=0,r=b.isFunction(g.callback),m={height:l.style.height,overflow:l.style.overflow,overflowY:l.style.overflowY,wordWrap:l.style.wordWrap,resize:l.style.resize},n,h=k.width();if(k.data("autosize")){return}k.data("autosize",true);if(k.css("box-sizing")==="border-box"||k.css("-moz-box-sizing")==="border-box"||k.css("-webkit-box-sizing")==="border-box"){j=k.outerHeight()-k.height()}s=Math.max(parseInt(k.css("minHeight"),10)-j||0,k.height());k.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:(k.css("resize")==="none"||k.css("resize")==="vertical")?"none":"horizontal"});function p(){var u={},v;d=l;c.className=g.className;q=parseInt(k.css("maxHeight"),10);b.each(a,function(w,x){u[x]=k.css(x)});b(c).css(u);if("oninput" in l){var t=l.style.width;l.style.width="0px";v=l.offsetWidth;l.style.width=t}}function o(){var t,u,w,v;if(d!==l){p()}c.value=l.value+g.append;c.style.overflowY=l.style.overflowY;u=parseInt(l.style.height,10);if("getComputedStyle" in window){v=window.getComputedStyle(l);w=l.getBoundingClientRect().width;b.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(x,y){w-=parseInt(v[y],10)});c.style.width=w+"px"}else{c.style.width=Math.max(k.width(),0)+"px"}c.scrollTop=0;c.scrollTop=90000;t=c.scrollTop;if(q&&t>q){l.style.overflowY="scroll";t=q}else{l.style.overflowY="hidden";if(t<s){t=s}}t+=j;if(u!==t){l.style.height=t+"px";if(r){g.callback.call(l,l)}}}function i(){clearTimeout(n);n=setTimeout(function(){if(k.width()!==h){o()}},parseInt(g.resizeDelay,10))}if("onpropertychange" in l){if("oninput" in l){k.on("input.autosize keyup.autosize",o)}else{k.on("propertychange.autosize",function(){if(event.propertyName==="value"){o()}})}}else{k.on("input.autosize",o)}if(g.resizeDelay!==false){b(window).on("resize.autosize",i)}k.on("autosize.resize",o);k.on("autosize.resizeIncludeStyle",function(){d=null;o()});k.on("autosize.destroy",function(){d=null;clearTimeout(n);b(window).off("resize",i);k.off("autosize").off(".autosize").css(m).removeData("autosize")});o()})}}(window.jQuery||window.Zepto));(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(c){if(c.nodeName.toUpperCase()==="OPTGROUP"){return this.add_group(c)}else{return this.add_option(c)}};b.prototype.add_group=function(i){var h,e,g,d,f,c;h=this.parsed.length;this.parsed.push({array_index:h,group:true,label:i.label,children:0,disabled:i.disabled});f=i.childNodes;c=[];for(g=0,d=f.length;g<d;g++){e=f[g];c.push(this.add_option(e,h,i.disabled))}return c};b.prototype.add_option=function(d,e,c){if(d.nodeName.toUpperCase()==="OPTION"){if(d.text!==""){if(e!=null){this.parsed[e].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:c===true?c:d.disabled,group_array_index:e,classes:d.className,style:d.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var g,f,e,c,d;f=new a();d=b.childNodes;for(e=0,c=d.length;e<c;e++){g=d[e];f.add_node(g)}return f.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function c(d,e){this.form_field=d;this.options=e!=null?e:{};if(!c.browser_is_supported()){return}this.is_multiple=this.form_field.multiple;this.set_default_text();this.set_default_values();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}c.prototype.set_default_values=function(){var d=this;this.click_test_action=function(e){return d.test_active_click(e)};this.activate_action=function(e){return d.activate_field(e)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.disable_search=this.options.disable_search||false;this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:true;this.search_contains=this.options.search_contains||false;this.single_backstroke_delete=this.options.single_backstroke_delete||false;this.max_selected_options=this.options.max_selected_options||Infinity;return this.inherit_select_classes=this.options.inherit_select_classes||false};c.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder")){this.default_text=this.form_field.getAttribute("data-placeholder")}else{if(this.is_multiple){this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||c.default_multiple_text}else{this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||c.default_single_text}}return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||c.default_no_result_text};c.prototype.mouse_enter=function(){return this.mouse_on_container=true};c.prototype.mouse_leave=function(){return this.mouse_on_container=false};c.prototype.input_focus=function(d){var e=this;if(this.is_multiple){if(!this.active_field){return setTimeout((function(){return e.container_mousedown()}),50)}}else{if(!this.active_field){return this.activate_field()}}};c.prototype.input_blur=function(d){var e=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return e.blur_test()}),100)}};c.prototype.results_option_build=function(e){var f,i,h,d,g;f="";g=this.results_data;for(h=0,d=g.length;h<d;h++){i=g[h];if(i.group&&i.search_match){f+=this.result_add_group(i)}else{if(!i.empty&&i.search_match){f+=this.result_add_option(i)}}if(e!=null?e.first:void 0){if(i.selected&&this.is_multiple){this.choice_build(i)}else{if(i.selected&&!this.is_multiple){this.single_set_selected_text(i.text)}}}}return f};c.prototype.result_add_option=function(f){var d,e;f.dom_id=this.container_id+"_o_"+f.array_index;d=[];if(!f.disabled&&!(f.selected&&this.is_multiple)){d.push("active-result")}if(f.disabled&&!(f.selected&&this.is_multiple)){d.push("disabled-result")}if(f.selected){d.push("result-selected")}if(f.group_array_index!=null){d.push("group-option")}if(f.classes!==""){d.push(f.classes)}e=f.style.cssText!==""?' style="'+f.style+'"':"";return'<li id="'+f.dom_id+'" class="'+(d.join(" "))+'"'+e+">"+f.search_text+"</li>"};c.prototype.results_update_field=function(){this.set_default_text();if(!this.is_multiple){this.results_reset_cleanup()}this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};c.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};c.prototype.results_search=function(d){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};c.prototype.winnow_results=function(){var l,f,i,o,p,k,r,m,q,e,h,g,n,d,j;this.no_results_clear();k=0;r=this.get_search_text();p=this.search_contains?"":"^";o=new RegExp(p+r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");e=new RegExp(r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");j=this.results_data;for(h=0,n=j.length;h<n;h++){l=j[h];if(!l.empty){if(l.group){l.search_match=false}else{l.search_match=false;if(o.test(l.html)){l.search_match=true;k+=1}else{if(this.enable_split_word_search&&(l.html.indexOf(" ")>=0||l.html.indexOf("[")===0)){i=l.html.replace(/\[|\]/g,"").split(" ");if(i.length){for(g=0,d=i.length;g<d;g++){f=i[g];if(o.test(f)){l.search_match=true;k+=1}}}}}if(l.search_match){if(r.length){m=l.html.search(e);q=l.html.substr(0,m+r.length)+"</em>"+l.html.substr(m+r.length);q=q.substr(0,m)+"<em>"+q.substr(m)}else{q=l.html}l.search_text=q;if(l.group_array_index!=null){this.results_data[l.group_array_index].search_match=true}}}}}if(k<1&&r.length){this.update_results_content("");return this.no_results(r)}else{this.update_results_content(this.results_option_build());return this.winnow_results_set_highlight()}};c.prototype.choices_count=function(){var e,g,d,f;if(this.selected_option_count!=null){return this.selected_option_count}this.selected_option_count=0;f=this.form_field.options;for(g=0,d=f.length;g<d;g++){e=f[g];if(e.selected){this.selected_option_count+=1}}return this.selected_option_count};c.prototype.choices_click=function(d){d.preventDefault();if(!(this.results_showing||this.is_disabled)){return this.results_show()}};c.prototype.keyup_checker=function(d){var f,e;f=(e=d.which)!=null?e:d.keyCode;this.search_field_scale();switch(f){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:d.preventDefault();if(this.results_showing){return this.result_select(d)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.generate_field_id=function(){var d;d=this.generate_random_id();this.form_field.id=d;return d};c.prototype.generate_random_char=function(){var f,e,d;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";d=Math.floor(Math.random()*f.length);return e=f.substring(d,d+1)};c.prototype.container_width=function(){if(this.options.width!=null){return this.options.width}else{return""+this.form_field.offsetWidth+"px"}};c.browser_is_supported=function(){var d;if(window.navigator.appName==="Microsoft Internet Explorer"){return(null!==(d=document.documentMode)&&d>=8)}return true};c.default_multiple_text="Select Some Options";c.default_single_text="Select an Option";c.default_no_result_text="No results match";return c})();a.AbstractChosen=b}).call(this);(function(){var e,f,a,d,b={}.hasOwnProperty,c=function(j,h){for(var g in h){if(b.call(h,g)){j[g]=h[g]}}function i(){this.constructor=j}i.prototype=h.prototype;j.prototype=new i();j.__super__=h.prototype;return j};a=this;e=jQuery;e.fn.extend({chosen:function(g){if(!AbstractChosen.browser_is_supported()){return this}return this.each(function(h){var i;i=e(this);if(!i.hasClass("chzn-done")){return i.data("chosen",new f(this,g))}})}});f=(function(g){c(h,g);function h(){d=h.__super__.constructor.apply(this,arguments);return d}h.prototype.setup=function(){this.form_field_jq=e(this.form_field);this.current_selectedIndex=this.form_field.selectedIndex;return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};h.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};h.prototype.set_up_html=function(){var i,j;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";i=["chzn-container"];i.push("chzn-container-"+(this.is_multiple?"multi":"single"));if(this.inherit_select_classes&&this.form_field.className){i.push(this.form_field.className)}if(this.is_rtl){i.push("chzn-rtl")}j={id:this.container_id,"class":i.join(" "),style:"width: "+(this.container_width())+";",title:this.form_field.title};this.container=e("<div />",j);if(this.is_multiple){this.container.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop"><ul class="chzn-results"></ul></div>')}else{this.container.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(this.container);this.dropdown=this.container.find("div.chzn-drop").first();this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first()}this.results_build();this.set_tab_index();this.set_label_behavior();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};h.prototype.register_observers=function(){var i=this;this.container.mousedown(function(j){i.container_mousedown(j)});this.container.mouseup(function(j){i.container_mouseup(j)});this.container.mouseenter(function(j){i.mouse_enter(j)});this.container.mouseleave(function(j){i.mouse_leave(j)});this.search_results.mouseup(function(j){i.search_results_mouseup(j)});this.search_results.mouseover(function(j){i.search_results_mouseover(j)});this.search_results.mouseout(function(j){i.search_results_mouseout(j)});this.search_results.bind("mousewheel DOMMouseScroll",function(j){i.search_results_mousewheel(j)});this.form_field_jq.bind("liszt:updated",function(j){i.results_update_field(j)});this.form_field_jq.bind("liszt:activate",function(j){i.activate_field(j)});this.form_field_jq.bind("liszt:open",function(j){i.container_mousedown(j)});this.search_field.blur(function(j){i.input_blur(j)});this.search_field.keyup(function(j){i.keyup_checker(j)});this.search_field.keydown(function(j){i.keydown_checker(j)});this.search_field.focus(function(j){i.input_focus(j)});if(this.is_multiple){return this.search_choices.click(function(j){i.choices_click(j)})}else{return this.container.click(function(j){j.preventDefault()})}};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};h.prototype.container_mousedown=function(i){if(!this.is_disabled){if(i&&i.type==="mousedown"&&!this.results_showing){i.preventDefault()}if(!((i!=null)&&(e(i.target)).hasClass("search-choice-close"))){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&i&&((e(i.target)[0]===this.selected_item[0])||e(i.target).parents("a.chzn-single").length)){i.preventDefault();this.results_toggle()}}return this.activate_field()}}};h.prototype.container_mouseup=function(i){if(i.target.nodeName==="ABBR"&&!this.is_disabled){return this.results_reset(i)}};h.prototype.search_results_mousewheel=function(j){var l,i,k;l=-((i=j.originalEvent)!=null?i.wheelDelta:void 0)||((k=j.originialEvent)!=null?k.detail:void 0);if(l!=null){j.preventDefault();if(j.type==="DOMMouseScroll"){l=l*40}return this.search_results.scrollTop(l+this.search_results.scrollTop())}};h.prototype.blur_test=function(i){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};h.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};h.prototype.activate_field=function(){this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};h.prototype.test_active_click=function(i){if(e(i.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};h.prototype.results_build=function(){this.parsing=true;this.selected_option_count=null;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple){this.search_choices.find("li.search-choice").remove()}else{if(!this.is_multiple){this.single_set_selected_text();if(this.disable_search||this.form_field.options.length<=this.disable_search_threshold){this.search_field[0].readOnly=true;this.container.addClass("chzn-container-single-nosearch")}else{this.search_field[0].readOnly=false;this.container.removeClass("chzn-container-single-nosearch")}}}this.update_results_content(this.results_option_build({first:true}));this.search_field_disabled();this.show_search_field_default();this.search_field_scale();return this.parsing=false};h.prototype.result_add_group=function(i){i.dom_id=this.container_id+"_g_"+i.array_index;return'<li id="'+i.dom_id+'" class="group-result">'+e("<div />").text(i.label).html()+"</li>"};h.prototype.result_do_highlight=function(j){var n,m,k,l,i;if(j.length){this.result_clear_highlight();this.result_highlight=j;this.result_highlight.addClass("highlighted");k=parseInt(this.search_results.css("maxHeight"),10);i=this.search_results.scrollTop();l=k+i;m=this.result_highlight.position().top+this.search_results.scrollTop();n=m+this.result_highlight.outerHeight();if(n>=l){return this.search_results.scrollTop((n-k)>0?n-k:0)}else{if(m<i){return this.search_results.scrollTop(m)}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};h.prototype.results_show=function(){if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}this.container.addClass("chzn-with-drop");this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};h.prototype.update_results_content=function(i){return this.search_results.html(i)};h.prototype.results_hide=function(){if(this.results_showing){this.result_clear_highlight();this.container.removeClass("chzn-with-drop");this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this})}return this.results_showing=false};h.prototype.set_tab_index=function(j){var i;if(this.form_field_jq.attr("tabindex")){i=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);return this.search_field.attr("tabindex",i)}};h.prototype.set_label_behavior=function(){var i=this;this.form_field_label=this.form_field_jq.parents("label");if(!this.form_field_label.length&&this.form_field.id.length){this.form_field_label=e("label[for='"+this.form_field.id+"']")}if(this.form_field_label.length>0){return this.form_field_label.click(function(j){if(i.is_multiple){return i.container_mousedown(j)}else{return i.activate_field()}})}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices_count()<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};h.prototype.search_results_mouseup=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j.length){this.result_highlight=j;this.result_select(i);return this.search_field.focus()}};h.prototype.search_results_mouseover=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j){return this.result_do_highlight(j)}};h.prototype.search_results_mouseout=function(i){if(e(i.target).hasClass("active-result"||e(i.target).parents(".active-result").first())){return this.result_clear_highlight()}};h.prototype.choice_build=function(j){var i,k,l=this;i=e("<li />",{"class":"search-choice"}).html("<span>"+j.html+"</span>");if(j.disabled){i.addClass("search-choice-disabled")}else{k=e("<a />",{href:"#","class":"search-choice-close",rel:j.array_index});k.click(function(m){return l.choice_destroy_link_click(m)});i.append(k)}return this.search_container.before(i)};h.prototype.choice_destroy_link_click=function(i){i.preventDefault();i.stopPropagation();if(!this.is_disabled){return this.choice_destroy(e(i.target))}};h.prototype.choice_destroy=function(i){if(this.result_deselect(i.attr("rel"))){this.show_search_field_default();if(this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1){this.results_hide()}i.parents("li").first().remove();return this.search_field_scale()}};h.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_option_count=null;this.single_set_selected_text();this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};h.prototype.results_reset_cleanup=function(){this.current_selectedIndex=this.form_field.selectedIndex;return this.selected_item.find("abbr").remove()};h.prototype.result_select=function(j){var m,l,k,i;if(this.result_highlight){m=this.result_highlight;l=m.attr("id");this.result_clear_highlight();if(this.is_multiple&&this.max_selected_options<=this.choices_count()){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}if(this.is_multiple){m.removeClass("active-result")}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=m}m.addClass("result-selected");i=l.substr(l.lastIndexOf("_")+1);k=this.results_data[i];k.selected=true;this.form_field.options[k.options_index].selected=true;this.selected_option_count=null;if(this.is_multiple){this.choice_build(k)}else{this.single_set_selected_text(k.text)}if(!((j.metaKey||j.ctrlKey)&&this.is_multiple)){this.results_hide()}this.search_field.val("");if(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex){this.form_field_jq.trigger("change",{selected:this.form_field.options[k.options_index].value})}this.current_selectedIndex=this.form_field.selectedIndex;return this.search_field_scale()}};h.prototype.single_set_selected_text=function(i){if(i==null){i=this.default_text}if(i===this.default_text){this.selected_item.addClass("chzn-default")}else{this.single_deselect_control_build();this.selected_item.removeClass("chzn-default")}return this.selected_item.find("span").text(i)};h.prototype.result_deselect=function(k){var i,j;j=this.results_data[k];if(!this.form_field.options[j.options_index].disabled){j.selected=false;this.form_field.options[j.options_index].selected=false;this.selected_option_count=null;i=e("#"+this.container_id+"_o_"+k);i.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();if(this.results_showing){this.winnow_results()}this.form_field_jq.trigger("change",{deselected:this.form_field.options[j.options_index].value});this.search_field_scale();return true}else{return false}};h.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect){return}if(!this.selected_item.find("abbr").length){this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}return this.selected_item.addClass("chzn-single-with-deselect")};h.prototype.get_search_text=function(){if(this.search_field.val()===this.default_text){return""}else{return e("<div/>").text(e.trim(this.search_field.val())).html()}};h.prototype.winnow_results_set_highlight=function(){var i,j;j=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];i=j.length?j.first():this.search_results.find(".active-result").first();if(i!=null){return this.result_do_highlight(i)}};h.prototype.no_results=function(i){var j;j=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');j.find("span").first().html(i);return this.search_results.append(j)};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};h.prototype.keydown_arrow=function(){var i;if(this.results_showing&&this.result_highlight){i=this.result_highlight.nextAll("li.active-result").first();if(i){return this.result_do_highlight(i)}}else{return this.results_show()}};h.prototype.keyup_arrow=function(){var i;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){i=this.result_highlight.prevAll("li.active-result");if(i.length){return this.result_do_highlight(i.first())}else{if(this.choices_count()>0){this.results_hide()}return this.result_clear_highlight()}}}};h.prototype.keydown_backstroke=function(){var i;if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{i=this.search_container.siblings("li.search-choice").last();if(i.length&&!i.hasClass("search-choice-disabled")){this.pending_backstroke=i;if(this.single_backstroke_delete){return this.keydown_backstroke()}else{return this.pending_backstroke.addClass("search-choice-focus")}}}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};h.prototype.keydown_checker=function(j){var k,i;k=(i=j.which)!=null?i:j.keyCode;this.search_field_scale();if(k!==8&&this.pending_backstroke){this.clear_backstroke()}switch(k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(j)}this.mouse_on_container=false;break;case 13:j.preventDefault();break;case 38:j.preventDefault();this.keyup_arrow();break;case 40:j.preventDefault();this.keydown_arrow();break}};h.prototype.search_field_scale=function(){var p,l,k,n,m,j,o,i;if(this.is_multiple){l=0;j=0;n="position:absolute; left: -1000px; top: -1000px; display:none;";m=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(o=0,i=m.length;o<i;o++){k=m[o];n+=k+":"+this.search_field.css(k)+";"}p=e("<div />",{style:n});p.text(this.search_field.val());e("body").append(p);j=p.width()+25;p.remove();if(!this.f_width){this.f_width=this.container.outerWidth()}if(j>this.f_width-10){j=this.f_width-10}return this.search_field.css({width:j+"px"})}};h.prototype.generate_random_id=function(){var i;i="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+i).length>0){i+=this.generate_random_char()}return i};return h})(AbstractChosen);a.Chosen=f}).call(this);(function(e){var c={autoCharLimit:false,baseZindex:0,debug:false,duration:500,easingIn:(e.easing&&e.easing.def?"easeInOutCubic":false),easingOut:(e.easing&&e.easing.def?"easeInOutCubic":false),fadeDuration:250,labelLeft:0,labelTop:0,noAnimate:false,opacity:0.5,slide:true,wrapSelector:false},j=["text","search","url","tel","email","password","number"],g=["input","textarea","select"],d,i,a,o,b,m,l,f,h,n,k;e.fn.superLabels=function(p){var q=[],r;if(this.length===0){return false}if(p&&p.labelLeft&&isNaN(p.labelLeft)){p.labelLeft=Number(p.labelLeft.replace(/\D+/,""))}if(p&&p.labelTop&&isNaN(p.labelTop)){p.labelTop=Number(p.labelTop.replace(/\D+/,""))}r=e.extend({},c);e(this).data("slDefaults",e.extend(r,p||{})).addClass("sl-defaults");if(!e.easing.def){n("Easing plugin not found - using standard jQuery animations.")}if(this.length===1&&/form/i.test(this[0].tagName)){q=e(g.join(","),this)}else{if(this.length>1){this.each(function(){if(/form/i.test(this.tagName)){e.merge(q,e(g.join(","),this))}else{q.push(this)}})}else{q=this}}return e(q).each(function(){var u=e(this),v,t=u.attr("placeholder"),s;if((u[0].tagName.toLowerCase()==="input"&&e.inArray(u.attr("type"),j))===-1&&e.inArray(u[0].tagName.toLowerCase(),g)!==-1){n("Doh! The following "+this.tagName.toLowerCase()+", is not supported.",this);return true}v=d(this);if(t){if(v.length===0){s='<label for="'+(u.attr("id")||u.attr("name"))+'">'+t+"</label>";s+="</label>";s=e(s);v=s;u.before(v)}else{v.attr("title",t)}u.removeAttr("placeholder")}if(v.length===0){n("Doh! The following "+this.tagName.toLowerCase()+" has no related label.",this);return true}i(u,v);if(!this.tagName.match(/select/i)){u.focus(a);u.blur(o);u.change(o);u.bind("input",b);u.bind("propertychange",o);u.keyup(b);v.click(function(){u.focus()})}})};d=function(p){var s=e(p).closest(".sl-defaults").data("slDefaults"),r=e(p).siblings("label"),q;if(r.length===0){if(s.wrapSelector){r=e(p).parents(s.wrapSelector).find("label")}else{q=p.id||p.name;r=e('[for="'+q+'"]')}}return r};i=function(q,u){var s=q.data("slCharLimit"),t=e(q).closest(".sl-defaults").data("slDefaults"),p=0,r;if(q[0].tagName.match(/select/i)){r=q.find("[selected]").length===0?" selected":"";q.prepend('<option value="" disabled'+r+' rel="label">'+u.html()+"</option>");u.css("display","none")}else{if(s==="auto"||(t.autoCharLimit&&isNaN(s))){f(q,u)}if(m(q)){p=1}else{if(l(q)){p=t._opacity}}q.css({zIndex:t.baseZindex+1}).addClass("sl_field");u.css({left:m(q)?t.labelLeft:e(q).width()-u.width(),opacity:p,position:"absolute",top:t.labelTop,zIndex:t.baseZindex+2}).addClass("sl_label")}};a=function(){var s=e(this).closest(".sl-defaults").data("slDefaults"),r=s.duration,q,p={opacity:0};if(m(this)){q=d(this);if(s.noAnimate){q.hide();return false}if(s.slide){p.left=e(this).width()-q.width();p.opacity=s.opacity}else{r=s.fadeDuration}q.stop(true,false).animate(p,r,s.easingOut)}};o=function(){var s=e(this).closest(".sl-defaults").data("slDefaults"),r=s.duration,q,p={opacity:1};if(m(this)){q=d(this);if(s.noAnimate){q.show();return false}if(s.slide){p.left=s.labelLeft}else{r=s.fadeDuration}q.stop(true,false).animate(p,r,s.easingOut)}else{b.apply(this)}};b=function(){var r=e(this).closest(".sl-defaults").data("slDefaults"),q,p=0;if(r.noAnimate){return false}q=d(this);if((m(this)&&q.css("opacity")>0)||(!m(this)&&q.css("opacity")===0)){return false}if((m(this)&&q.css("opacity")!==0)||l(this)){p=r.opacity}q.stop(true,false).animate({opacity:p},r.fadeDuration,r.easingOut)};m=function(p){return e(p).val()===""};l=function(q){var p=e(q).data("slCharLimit");if(!p||typeof p!=="number"){return false}q=q.length?q[0]:q;return p&&q.value&&q.value.length<=p};f=function(r,v){var u,s,p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",q=["font-family","font-size","font-weight","letter-spacing","line-height","text-shadow","text-transform"],t=e("<div>"+p+"</div>");e.each(q,function(w,x){t.css(x,r.css(x))});t.css({position:"absolute",visibility:"hidden"});r.parent().append(t);s=Math.round(t.width()/p.length);t.remove();u=r.width()-v.width();r.data("slCharLimit",Math.floor(u/s))};h=function(){if(c.debug&&console&&console.log){console.log.apply(console,arguments)}};n=function(){if(c.debug&&console&&console.info){console.info.apply(console,arguments)}};k=function(){if(c.debug&&console&&console.error){console.error.apply(console,arguments)}}})(jQuery);(function(c,b,a,e){var d=c(b);c.fn.lazyload=function(f){var h=this;var i;var g={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:true,appear:null,load:null};function j(){var k=0;h.each(function(){var l=c(this);if(g.skip_invisible&&!l.is(":visible")){return}if(c.abovethetop(this,g)||c.leftofbegin(this,g)){}else{if(!c.belowthefold(this,g)&&!c.rightoffold(this,g)){l.trigger("appear");k=0}else{if(++k>g.failure_limit){return false}}}})}if(f){if(e!==f.failurelimit){f.failure_limit=f.failurelimit;delete f.failurelimit}if(e!==f.effectspeed){f.effect_speed=f.effectspeed;delete f.effectspeed}c.extend(g,f)}i=(g.container===e||g.container===b)?d:c(g.container);if(0===g.event.indexOf("scroll")){i.bind(g.event,function(k){return j()})}this.each(function(){var k=this;var l=c(k);k.loaded=false;l.one("appear",function(){if(!this.loaded){if(g.appear){var m=h.length;g.appear.call(k,m,g)}c("<img />").bind("load",function(){l.hide().attr("src",l.data(g.data_attribute))[g.effect](g.effect_speed);k.loaded=true;var n=c.grep(h,function(p){return !p.loaded});h=c(n);if(g.load){var o=h.length;g.load.call(k,o,g)}}).attr("src",l.data(g.data_attribute))}});if(0!==g.event.indexOf("scroll")){l.bind(g.event,function(m){if(!k.loaded){l.trigger("appear")}})}});d.bind("resize",function(k){j()});if((/iphone|ipod|ipad.*os 5/gi).test(navigator.appVersion)){d.bind("pageshow",function(k){if(k.originalEvent.persisted){h.each(function(){c(this).trigger("appear")})}})}c(b).load(function(){j()});return this};c.belowthefold=function(g,h){var f;if(h.container===e||h.container===b){f=d.height()+d.scrollTop()}else{f=c(h.container).offset().top+c(h.container).height()}return f<=c(g).offset().top-h.threshold};c.rightoffold=function(g,h){var f;if(h.container===e||h.container===b){f=d.width()+d.scrollLeft()}else{f=c(h.container).offset().left+c(h.container).width()}return f<=c(g).offset().left-h.threshold};c.abovethetop=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollTop()}else{f=c(h.container).offset().top}return f>=c(g).offset().top+h.threshold+c(g).height()};c.leftofbegin=function(g,h){var f;if(h.container===e||h.container===b){f=d.scrollLeft()}else{f=c(h.container).offset().left}return f>=c(g).offset().left+h.threshold+c(g).width()};c.inviewport=function(f,g){return !c.rightoffold(f,g)&&!c.leftofbegin(f,g)&&!c.belowthefold(f,g)&&!c.abovethetop(f,g)};c.extend(c.expr[":"],{"below-the-fold":function(f){return c.belowthefold(f,{threshold:0})},"above-the-top":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-screen":function(f){return c.rightoffold(f,{threshold:0})},"left-of-screen":function(f){return !c.rightoffold(f,{threshold:0})},"in-viewport":function(f){return c.inviewport(f,{threshold:0})},"above-the-fold":function(f){return !c.belowthefold(f,{threshold:0})},"right-of-fold":function(f){return c.rightoffold(f,{threshold:0})},"left-of-fold":function(f){return !c.rightoffold(f,{threshold:0})}})})(jQuery,window,document);(function(b){b.fn.sisyphus=function(e){var d=b.map(this,function(g,f){return b(g).attr("id")+b(g).attr("name")}).join();var c=Sisyphus.getInstance(d);c.protect(this,e);return c};var a={};a.isAvailable=function(){if(typeof b.jStorage==="object"){return true}try{return localStorage.getItem}catch(c){return false}};a.set=function(c,d){if(typeof b.jStorage==="object"){b.jStorage.set(c,d+"")}else{try{localStorage.setItem(c,d+"")}catch(f){}}};a.get=function(d){if(typeof b.jStorage==="object"){var c=b.jStorage.get(d);return c?c.toString():c}else{return localStorage.getItem(d)}};a.remove=function(c){if(typeof b.jStorage==="object"){b.jStorage.deleteKey(c)}else{localStorage.removeItem(c)}};Sisyphus=(function(){var d={instantiated:[],started:[]};function c(e){return{setInstanceIdentifier:function(f){this.identifier=f},getInstanceIdentifier:function(){return this.identifier},setInitialOptions:function(f){var g={excludeFields:[],customKeyPrefix:"",locationBased:false,timeout:0,autoRelease:true,onSave:function(){},onBeforeRestore:function(){},onRestore:function(){},onRelease:function(){}};this.options=this.options||b.extend(g,f);this.browserStorage=a},setOptions:function(f){this.options=this.options||this.setInitialOptions(f);this.options=b.extend(this.options,f)},protect:function(f,h){this.setOptions(h);f=f||{};var g=this;this.targets=this.targets||[];this.href=location.hostname+location.pathname+location.search+location.hash;this.targets=b.merge(this.targets,f);this.targets=b.unique(this.targets);this.targets=b(this.targets);if(!this.browserStorage.isAvailable()){return false}var i=g.options.onBeforeRestore.call(g);if(i===undefined||i){g.restoreAllData()}if(this.options.autoRelease){g.bindReleaseData()}if(!d.started[this.getInstanceIdentifier()]){g.bindSaveData();d.started[this.getInstanceIdentifier()]=true}},bindSaveData:function(){var f=this;if(f.options.timeout){f.saveDataByTimeout()}f.targets.each(function(){var h=b(this).attr("id")+b(this).attr("name");var g=b(this).find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");g.each(function(){if(b.inArray(this,f.options.excludeFields)!==-1){return true}var j=b(this);var i=(f.options.locationBased?f.href:"")+h+j.attr("name")+f.options.customKeyPrefix;if(j.is(":text")||j.is("textarea")){if(!f.options.timeout){f.bindSaveDataImmediately(j,i)}}f.bindSaveDataOnChange(j,i)})})},saveAllData:function(){var f=this;f.targets.each(function(){var h=b(this).attr("id")+b(this).attr("name");var g=b(this).find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");g.each(function(){var k=b(this);if(b.inArray(this,f.options.excludeFields)!==-1||k.attr("name")===undefined){return true}var j=(f.options.locationBased?f.href:"")+h+k.attr("name")+f.options.customKeyPrefix;var i=k.val();if(k.is(":checkbox")){if(k.attr("name").indexOf("[")!==-1){i=[];b("[name='"+k.attr("name")+"']:checked").each(function(){i.push(b(this).val())})}else{i=k.is(":checked")}f.saveToBrowserStorage(j,i,false)}else{if(k.is(":radio")){if(k.is(":checked")){i=k.val();f.saveToBrowserStorage(j,i,false)}}else{f.saveToBrowserStorage(j,i,false)}}})});f.options.onSave.call()},restoreAllData:function(){var f=this;var g=false;f.targets.each(function(){var j=b(this);var i=b(this).attr("id")+b(this).attr("name");var h=j.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");h.each(function(){if(b.inArray(this,f.options.excludeFields)!==-1){return true}var m=b(this);var l=(f.options.locationBased?f.href:"")+i+m.attr("name")+f.options.customKeyPrefix;var k=f.browserStorage.get(l);if(k){f.restoreFieldsData(m,k);g=true}})});if(g){f.options.onRestore.call()}},restoreFieldsData:function(g,f){if(g.attr("name")===undefined){return false}if(g.is(":checkbox")&&f!=="false"&&g.attr("name").indexOf("[")===-1){g.attr("checked","checked")}else{if(g.is(":checkbox")&&f==="false"&&g.attr("name").indexOf("[")===-1){g.removeAttr("checked")}else{if(g.is(":radio")){if(g.val()===f){g.attr("checked","checked")}}else{if(g.attr("name").indexOf("[")===-1){g.val(f)}else{f=f.split(",");g.val(f)}}}}},bindSaveDataImmediately:function(h,g){var f=this;if("onpropertychange" in h){h.get(0).onpropertychange=function(){f.saveToBrowserStorage(g,h.val())}}else{h.get(0).oninput=function(){f.saveToBrowserStorage(g,h.val())}}},saveToBrowserStorage:function(g,h,f){f=f===undefined?true:f;this.browserStorage.set(g,h);if(f&&h!==""){this.options.onSave.call()}},bindSaveDataOnChange:function(h,g){var f=this;h.change(function(){f.saveAllData()})},saveDataByTimeout:function(){var g=this;var f=g.targets;setTimeout((function(h){function i(){g.saveAllData();setTimeout(i,g.options.timeout*1000)}return i})(f),g.options.timeout*1000)},bindReleaseData:function(){var f=this;f.targets.each(function(j){var k=b(this);var h=k.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");var g=k.attr("id")+k.attr("name");b(this).bind("submit reset",function(){f.releaseData(g,h)})})},manuallyReleaseData:function(){var f=this;f.targets.each(function(j){var k=b(this);var h=k.find(":input").not(":submit").not(":reset").not(":button").not(":file").not(":password");var g=k.attr("id")+k.attr("name");f.releaseData(g,h)})},releaseData:function(i,f){var h=false;var g=this;f.each(function(){if(b.inArray(this,g.options.excludeFields)!==-1){return true}var k=b(this);var j=(g.options.locationBased?g.href:"")+i+k.attr("name")+g.options.customKeyPrefix;g.browserStorage.remove(j);h=true});if(h){g.options.onRelease.call()}}}}return{getInstance:function(e){if(!d.instantiated[e]){d.instantiated[e]=c();d.instantiated[e].setInstanceIdentifier(e);d.instantiated[e].setInitialOptions()}if(e){return d.instantiated[e]}return d.instantiated[e]},free:function(){d={};return null}}})()})(jQuery);